<!DOCTYPE html>
<html>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  <script src="bowling_scorer.js"></script>
  <body>
    <!--
    * ng-app
    Auto-bootstrap for AngularJS application. It defines the root
    element.
    Only one application can be bootstrapped per html document.
    You have to manually bootstrap if you have multiple
    applications in a document.

    * ng-controller
    Initialises scope by:
    - creates a new child scope,
    - sets initial state,
    - adds behaviour to the $scope.

    * controllerAs
    Use this so to help to avoid problems with scope when you have nested
    controllers.
    See, http://blog.thoughtram.io/angularjs/2015/01/02/exploring-angular-1.3-bindToController.html
    -->
    <div ng-app="BowlingScorerApp" ng-controller="BowlingScorerController as bowling_scorer">
      <!--
      This binds the input field in the UI to the rolls property in $scope.
      Angular then adds a watch function to the $watch list.
      A browser event triggers Angular's $digest loop: Angular app walks down
      the $watch list and records the new value if it has changed.  As a change
      in one value could cause a change to another, Angular re-runs through the
      $watch list until no values have changed.
      -->
      <div ng-repeat="n in [0,1]">
        <label>Roll {{ $index }}</label>
        <input type="text" ng-model="bowling_scorer.rolls[$index]">
      </div>
      Score: {{ bowling_scorer.get_score() }}
    </div>
  </body>
</html>
